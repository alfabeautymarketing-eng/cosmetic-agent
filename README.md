# Cosmetic Agent üß¥–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–≥–µ–Ω—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞—Ä—Ç–æ—á–µ–∫ –∫–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏–∑ Telegram —á–µ—Ä–µ–∑ n8n.

## üéØ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∞–≥–µ–Ω—Ç

1. **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ** –æ—Ç n8n webhook (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–¥—É–∫—Ç–µ –∏–∑ Telegram)
2. **–°–æ–∑–¥–∞–µ—Ç –ø–∞–ø–∫—É** –≤ Google Drive —Å –∏–º–µ–Ω–µ–º `[–ö–∞—Ä—Ç–æ—á–∫–∞-ID] –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞`
3. **–°–∫–∞—á–∏–≤–∞–µ—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ñ–∞–π–ª—ã**:
   - INCI –¥–æ–∫—É–º–µ–Ω—Ç (–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç –≤ `INCI.pdf`)
   - –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–∞
4. **–û–±–Ω–æ–≤–ª—è–µ—Ç Google Sheets** - –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É —Å –¥–∞–Ω–Ω—ã–º–∏ –∫–∞—Ä—Ç–æ—á–∫–∏
5. **–ì–æ—Ç–æ–≤–∏—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è AI** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –±—É–¥—É—â–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–º–ø—Ç–∞–º–∏

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Telegram Bot ‚Üí n8n ‚Üí Cosmetic Agent (Backend) ‚Üí Google Drive + Sheets
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:

- ‚úÖ –ß–∏—Å—Ç—ã–π –∫–æ–¥ –≤–º–µ—Å—Ç–æ "–º–∞–∫–∞—Ä–æ–Ω" –≤ n8n
- ‚úÖ –õ–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
- ‚úÖ –í—Å–µ –ª–æ–≥–∏ –∏ –æ—à–∏–±–∫–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- ‚úÖ –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å AI –æ–±—Ä–∞–±–æ—Ç–∫—É –±–µ–∑ —É—Å–ª–æ–∂–Ω–µ–Ω–∏—è n8n
- ‚úÖ –¢–µ—Å—Ç—ã –∏ –æ—Ç–ª–∞–¥–∫–∞ –Ω–∞–º–Ω–æ–≥–æ –ø—Ä–æ—â–µ

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/—Ç–≤–æ–π-username/cosmetic-agent.git
cd cosmetic-agent

# –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google

–°–ª–µ–¥—É–π –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: **[SETUP_GOOGLE.md](./SETUP_GOOGLE.md)**

–ö—Ä–∞—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è:
- –°–æ–∑–¥–∞–π Service Account –≤ Google Cloud
- –í–∫–ª—é—á–∏ Google Drive API –∏ Sheets API
- –°–∫–∞—á–∞–π `credentials.json`
- –î–∞–π –¥–æ—Å—Ç—É–ø –∫ –ø–∞–ø–∫–µ Drive –∏ —Ç–∞–±–ª–∏—Ü–µ Sheets

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–∫–æ–ø–∏—Ä—É–π –ø—Ä–∏–º–µ—Ä
cp .env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π .env
# –£–∫–∞–∂–∏ ID —Ç–∞–±–ª–∏—Ü—ã Google Sheets –∏ –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
```

### 4. –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

```bash
# Development —Ä–µ–∂–∏–º (—Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π)
npm run dev

# Production —Ä–µ–∂–∏–º
npm start
```

### 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
node test-webhook.js
```

üìö **–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å—Ç–∞—Ä—Ç—É**: [QUICK_START.md](./QUICK_START.md)

## üì¶ –î–µ–ø–ª–æ–π –≤ Production

–ê–≥–µ–Ω—Ç –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é –Ω–∞ Render (–±–µ—Å–ø–ª–∞—Ç–Ω–æ) –∏–ª–∏ Railway ($5/–º–µ—Å—è—Ü).

–°–ª–µ–¥—É–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: **[DEPLOY_RENDER.md](./DEPLOY_RENDER.md)**

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø–æ–ª—É—á–∏—à—å URL –≤–∏–¥–∞: `https://cosmetic-agent.onrender.com`

## üì° API

### `GET /health`

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "ok",
  "timestamp": "2024-01-18T12:00:00.000Z",
  "uptime": 123.456,
  "environment": "production"
}
```

### `POST /webhook`

–ü—Ä–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –æ—Ç n8n

**Headers:**
- `Content-Type: application/json`
- `x-webhook-secret: your-secret-key` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Body:**
```json
{
  "chatId": "123456789",
  "productName": "–ö—Ä–µ–º —É–≤–ª–∞–∂–Ω—è—é—â–∏–π",
  "purpose": "–£–≤–ª–∞–∂–Ω–µ–Ω–∏–µ –∫–æ–∂–∏",
  "application": "–ù–∞–Ω–æ—Å–∏—Ç—å –Ω–∞ —á–∏—Å—Ç—É—é –∫–æ–∂—É —É—Ç—Ä–æ–º –∏ –≤–µ—á–µ—Ä–æ–º",
  "inci": "Aqua, Glycerin, Hyaluronic Acid, Vitamin E",
  "inciDocUrl": "https://example.com/inci.pdf",
  "photoUrls": ["https://example.com/photo1.jpg", "https://example.com/photo2.jpg"]
}
```

**–û—Ç–≤–µ—Ç (—É—Å–ø–µ—Ö):**
```json
{
  "success": true,
  "cardId": "CARD-1234567890-123",
  "driveFolder": {
    "id": "folder_id",
    "url": "https://drive.google.com/drive/folders/...",
    "uploadedFiles": [
      { "name": "INCI.pdf", "id": "file_id" },
      { "name": "photo_1.jpg", "id": "file_id" }
    ]
  },
  "sheetRow": 2,
  "message": "–ö–∞—Ä—Ç–æ—á–∫–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞"
}
```

**–û—Ç–≤–µ—Ç (–æ—à–∏–±–∫–∞):**
```json
{
  "success": false,
  "error": "Missing required fields",
  "required": ["chatId", "productName"]
}
```

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
cosmetic-agent/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ server.js                  # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (Express —Å–µ—Ä–≤–µ—Ä)
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ googleAuth.js          # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Google API
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ health.js              # Health check endpoint
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ webhook.js             # Webhook –¥–ª—è n8n
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cardProcessor.js       # –û—Å–Ω–æ–≤–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ driveService.js        # Google Drive –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sheetsService.js       # Google Sheets –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ fileDownloader.js      # –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ ai/                        # AI –º–æ–¥—É–ª—å (–∑–∞–≥–æ—Ç–æ–≤–∫–∞)
‚îÇ       ‚îú‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è AI
‚îÇ       ‚îî‚îÄ‚îÄ prompts.js             # –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è AI
‚îú‚îÄ‚îÄ .env                           # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –≤ Git)
‚îú‚îÄ‚îÄ .env.example                   # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ credentials.json               # Google credentials (–Ω–µ –≤ Git)
‚îú‚îÄ‚îÄ package.json                   # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ test-webhook.js                # –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ README.md                      # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ QUICK_START.md                 # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
‚îú‚îÄ‚îÄ SETUP_GOOGLE.md                # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google
‚îî‚îÄ‚îÄ DEPLOY_RENDER.md               # –î–µ–ø–ª–æ–π –Ω–∞ Render
```

## üß† AI –û–±—Ä–∞–±–æ—Ç–∫–∞ (–±—É–¥—É—â–µ–µ)

–ê–≥–µ–Ω—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å AI (Claude, GPT-4, Gemini).

–ì–æ—Ç–æ–≤—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ (RU/EN)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ—Å—Ç–∞–≤–∞ –¥–ª—è –±—É–∫–ª–µ—Ç–∞ (RU/EN)
- –ü–æ–ª–Ω—ã–π —Å–æ—Å—Ç–∞–≤ —Å –ø–µ—Ä–µ–≤–æ–¥–æ–º (RU/EN)

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [src/ai/README.md](./src/ai/README.md)

## üìä Google Sheets —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

–ê–≥–µ–Ω—Ç –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ç–∞–±–ª–∏—Ü—É —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ —Å—Ç–æ–ª–±—Ü–∞–º–∏:

| –°—Ç–æ–ª–±–µ—Ü | –ù–∞–∑–≤–∞–Ω–∏–µ | –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|-------------|----------|
| A | ID | –í—Ä—É—á–Ω—É—é | –ü–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä |
| B | ID-–ö–∞—Ä—Ç–æ—á–∫–∏ | –ê–≥–µ–Ω—Ç | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (CARD-timestamp-random) |
| C | ID-–ß–∞—Ç | –ê–≥–µ–Ω—Ç | Telegram chat ID |
| D | –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ | –ê–≥–µ–Ω—Ç | –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ |
| E | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ê–≥–µ–Ω—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ |
| F | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ | –ê–≥–µ–Ω—Ç | –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é |
| G | –ò–ù–°–ò | –ê–≥–µ–Ω—Ç | INCI —Å–æ—Å—Ç–∞–≤ (–ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç) |
| H | –ò–ù–°–ò –¥–æ–∫ | –ê–≥–µ–Ω—Ç | –°—Å—ã–ª–∫–∞ –Ω–∞ PDF –¥–æ–∫—É–º–µ–Ω—Ç –≤ Drive |
| I | –ê–∫—Ç–∏–≤–Ω—ã–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –±–µ–∑ % | AI (–±—É–¥—É—â–µ–µ) | –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ (RU) |
| J | –ê–∫—Ç–∏–≤–Ω—ã–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –±–µ–∑ %–ê–Ω–≥–ª | AI (–±—É–¥—É—â–µ–µ) | –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ (EN) |
| K | —Å–æ—Å—Ç–∞–≤ –ë–£–ö–õ–ï–¢ | AI (–±—É–¥—É—â–µ–µ) | –ö—Ä–∞—Ç–∫–∏–π —Å–æ—Å—Ç–∞–≤ –¥–ª—è –±—É–∫–ª–µ—Ç–∞ (RU) |
| L | —Å–æ—Å—Ç–∞–≤ –ë–£–ö–õ–ï–¢ –∞–Ω–≥–ª | AI (–±—É–¥—É—â–µ–µ) | –ö—Ä–∞—Ç–∫–∏–π —Å–æ—Å—Ç–∞–≤ –¥–ª—è –±—É–∫–ª–µ—Ç–∞ (EN) |
| M | –ü–æ–ª–Ω—ã–π —Å–æ—Å—Ç–∞–≤ | AI (–±—É–¥—É—â–µ–µ) | –ü–æ–ª–Ω—ã–π —Å–æ—Å—Ç–∞–≤ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π (RU) |
| N | –ü–æ–ª–Ω—ã–π —Å–æ—Å—Ç–∞–≤ –∞–Ω–≥–ª | AI (–±—É–¥—É—â–µ–µ) | –ü–æ–ª–Ω—ã–π —Å–æ—Å—Ç–∞–≤ (EN) |

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Node.js** - Runtime
- **Express** - Web framework
- **Google APIs** - Drive + Sheets
- **Axios** - HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- **dotenv** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üìù –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
# Server
PORT=3000
NODE_ENV=development

# Google Drive
GOOGLE_DRIVE_FOLDER_ID=1rELo6cM69I8_105PY-XKuJv1W33VDH1R

# Google Sheets
GOOGLE_SHEET_ID=your_sheet_id

# Google Credentials
GOOGLE_SERVICE_ACCOUNT_KEY_PATH=./credentials.json
# –∏–ª–∏
GOOGLE_SERVICE_ACCOUNT_JSON={"type":"service_account",...}

# Security
WEBHOOK_SECRET=your-secret-key
```

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ó–∞–ø—É—Å–∫ –≤ dev —Ä–µ–∂–∏–º–µ

```bash
npm run dev
```

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `nodemon` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö.

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ health endpoint
curl http://localhost:3000/health

# –¢–µ—Å—Ç webhook
node test-webhook.js
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å —ç–º–æ–¥–∑–∏ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞:

```
üì® –ü–æ–ª—É—á–µ–Ω webhook –æ—Ç n8n
üîÑ –ù–∞—á–∏–Ω–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–∞—Ä—Ç–æ—á–∫–∏
üìÅ –ü–∞–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∞
üìÑ INCI –¥–æ–∫—É–º–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–µ–Ω
üñº –§–æ—Ç–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ
üìä –ó–∞–ø–∏—Å—å –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ Google Sheets
‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ
```

## ü§ù –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å n8n

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –∞–≥–µ–Ω—Ç–∞, –Ω–∞—Å—Ç—Ä–æ–π n8n:

1. **Telegram Trigger** - –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. **HTTP Request Node**:
   - Method: `POST`
   - URL: `https://your-agent.onrender.com/webhook`
   - Headers: `x-webhook-secret: your-secret`
   - Body: JSON —Å –¥–∞–Ω–Ω—ã–º–∏ –∫–∞—Ä—Ç–æ—á–∫–∏

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "Cannot find module 'googleapis'"

```bash
npm install
```

### –û—à–∏–±–∫–∞: "Google API 403 Forbidden"

1. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ Service Account –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ Drive –∏ Sheets
2. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ API –≤–∫–ª—é—á–µ–Ω—ã –≤ Google Cloud Console

### –û—à–∏–±–∫–∞: "ENOENT: credentials.json not found"

–£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ñ–∞–π–ª `credentials.json` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

### –°–µ—Ä–≤–µ—Ä –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ Render

1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –≤ Render Dashboard
2. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Å–µ—Ä–≤–∏—Å —Å–ª—É—à–∞–µ—Ç `process.env.PORT`

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

ISC

## üë§ –ê–≤—Ç–æ—Ä

Cosmetic Agent - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞—Ä—Ç–æ—á–µ–∫ –∫–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤

---

**–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:**

- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](./QUICK_START.md)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google](./SETUP_GOOGLE.md)
- [–î–µ–ø–ª–æ–π –Ω–∞ Render](./DEPLOY_RENDER.md)
- [AI –æ–±—Ä–∞–±–æ—Ç–∫–∞](./src/ai/README.md)
